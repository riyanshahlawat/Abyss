<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Faculty Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-8">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-3xl font-bold mb-8">Faculty Dashboard Test</h1>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Test Faculty Login -->
            <div class="bg-white p-6 rounded-lg shadow">
                <h2 class="text-xl font-semibold mb-4">Test Faculty Login</h2>
                <p class="mb-4">Use these credentials to test the faculty dashboard:</p>
                <div class="bg-gray-100 p-4 rounded">
                    <p><strong>Email:</strong> faculty@univ.edu</p>
                    <p><strong>Password:</strong> faculty123</p>
                </div>
                <a href="login.html" class="inline-block mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
                    Go to Login
                </a>
            </div>

            <!-- Test API Endpoints -->
            <div class="bg-white p-6 rounded-lg shadow">
                <h2 class="text-xl font-semibold mb-4">Test API Endpoints</h2>
                <div class="space-y-2">
                    <button onclick="testFacultyProfile()" class="block w-full text-left bg-gray-100 p-2 rounded hover:bg-gray-200">
                        Test Faculty Profile API
                    </button>
                    <button onclick="testSubjectsBatches()" class="block w-full text-left bg-gray-100 p-2 rounded hover:bg-gray-200">
                        Test Subjects & Batches API
                    </button>
                    <button onclick="testTimetable()" class="block w-full text-left bg-gray-100 p-2 rounded hover:bg-gray-200">
                        Test Timetable API
                    </button>
                    <button onclick="testLeaveRequest()" class="block w-full text-left bg-gray-100 p-2 rounded hover:bg-gray-200">
                        Test Leave Request API
                    </button>
                </div>
            </div>

            <!-- Direct Access -->
            <div class="bg-white p-6 rounded-lg shadow">
                <h2 class="text-xl font-semibold mb-4">Direct Access</h2>
                <p class="mb-4">Access the faculty dashboard directly:</p>
                <a href="faculty-dashboard.html" class="inline-block bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">
                    Open Faculty Dashboard
                </a>
            </div>

            <!-- API Response -->
            <div class="bg-white p-6 rounded-lg shadow">
                <h2 class="text-xl font-semibold mb-4">API Response</h2>
                <pre id="apiResponse" class="bg-gray-100 p-4 rounded text-sm overflow-auto max-h-64">Click a test button to see API responses...</pre>
            </div>
        </div>
    </div>

    <script>
        const API_BASE_URL = 'http://127.0.0.1:5000';

        async function testFacultyProfile() {
            try {
                const response = await fetch(`${API_BASE_URL}/faculty/profile`);
                const data = await response.json();
                document.getElementById('apiResponse').textContent = JSON.stringify(data, null, 2);
            } catch (error) {
                document.getElementById('apiResponse').textContent = `Error: ${error.message}`;
            }
        }

        async function testSubjectsBatches() {
            try {
                const response = await fetch(`${API_BASE_URL}/faculty/subjects-batches`);
                const data = await response.json();
                document.getElementById('apiResponse').textContent = JSON.stringify(data, null, 2);
            } catch (error) {
                document.getElementById('apiResponse').textContent = `Error: ${error.message}`;
            }
        }

        async function testTimetable() {
            try {
                const response = await fetch(`${API_BASE_URL}/faculty/timetable`);
                const data = await response.json();
                document.getElementById('apiResponse').textContent = JSON.stringify(data, null, 2);
            } catch (error) {
                document.getElementById('apiResponse').textContent = `Error: ${error.message}`;
            }
        }

        async function testLeaveRequest() {
            try {
                const response = await fetch(`${API_BASE_URL}/faculty/leave-request`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        type: 'annual',
                        start_date: '2024-01-15',
                        end_date: '2024-01-17',
                        reason: 'Personal leave for testing'
                    })
                });
                const data = await response.json();
                document.getElementById('apiResponse').textContent = JSON.stringify(data, null, 2);
            } catch (error) {
                document.getElementById('apiResponse').textContent = `Error: ${error.message}`;
            }
        }
    </script>
</body>
</html>
